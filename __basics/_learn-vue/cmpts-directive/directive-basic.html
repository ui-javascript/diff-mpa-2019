<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Vue æµ‹è¯•å®ä¾‹</title>

    <script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/layer/3.1.0/layer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <style>
        p {
            cursor: pointer;
        }
    </style>

</head>

<body>

<div id="app">

    <div v-style="{ color: 'green', text: '\asd!' }"></div>

    <p @click="toggle" :style="">ä½ çœ‹å¾—è§å…­å¨ƒå—?(click)</p>
    <template v-if="seen">
        <p> >å…­å¨ƒ< </p>
    </template>

    <input v-focus v-blur placeholder="æˆ‘è‡ªåŠ¨FOUCSçš„ğŸ‘¦">

</div>

<script type="application/ecmascript">
    Vue.directive('style', function (el, binding) {
        // ç®€å†™æ–¹å¼è®¾ç½®æ–‡æœ¬åŠèƒŒæ™¯é¢œè‰²
        el.innerHTML = binding.value.text
        el.style.backgroundColor = binding.value.color
    })

    // // æ³¨å†Œä¸€ä¸ªå…¨å±€v-focus
    Vue.directive('blur', {
        // å½“ç»‘å®šå…ƒç´ æ’å…¥åˆ° DOM ä¸­
        inserted: function(el) {
            el.addEventListener('blur', function () {
                layer.alert('å¤±å»ç„¦ç‚¹')
            })
        }
    })


    new Vue({
        el: '#app',
        data: {
            seen: false // ä½¿çœ‹ä¸è§
        },
        methods: {
            toggle () {
                this.seen = !this.seen
            }
        },

        directives: {
            // æ³¨å†Œä¸€ä¸ªå±€éƒ¨çš„v-focus
            focus: {
                inserted: function (el) {
                    layer.msg('è·å¾—ç„¦ç‚¹')
                    el.focus()

                    // å½“ç„¶è®¿é—®ä¸åˆ°
                    // console.log(this.seen)
                    // this.seen = true
                }
            }
        }
    })
</script>
</body>

</html>
